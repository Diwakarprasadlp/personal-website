"use strict";var $windowWidth=$(window).width(),$resumeDownloadWrapper=$("#resume-download-wrapper"),$portfolio=$("#portfolio"),$envelopeBottom=$("#envelope-bottom"),$resumeTrigger=$(".resume-trigger"),$resumeButtonDownload=$(".resume-button-download"),$submitButton=$(".submit-button"),$submitButtonIcon=$(".submit-button i"),$navHeight=$(".nav-trigger").outerHeight(!0),$aboutHeight=$("#about").outerHeight(!0),$developerHeight=$("#developer").outerHeight(!0),$designerHeight=$("#designer").outerHeight(!0),$resumeHeight=$("#resume").innerHeight(),$portfolioHeight=$portfolio.outerHeight(!0),$contactHeight=$("#contact").outerHeight(!0),$designerElementHeight=$("#browser-designer-element").height(),$resumeElementHeight=$("#resume-element").height(),$envelopeTopHeight=$("#envelope-top").height(),$resumeTriggerHeight=1.25*$envelopeTopHeight,resumeTriggerOffset=$envelopeTopHeight-$resumeElementHeight+$resumeElementHeight/10;$("#contact-form").submit(function(e){$submitButton.text(" SENDING"),$submitButtonIcon.removeClass("fa-paper-plane").addClass("fa-cog").addClass("fa-spin"),e.preventDefault();var n=$(this).serializeArray();$.ajax({url:"/",type:"POST",datatype:"JSON",data:n,success:function(){$submitButton.text(" SENT!"),$submitButtonIcon.removeClass("fa-cog").removeClass(".fa-spin").addClass("fa-check"),document.getElementById("contact-form").reset()},error:function(){$submitButton.text(" ERROR SENDING"),$submitButtonIcon.removeClass("fa-cog").removeClass(".fa-spin").addClass("fa-times"),document.getElementById("contact-form").reset()}})}),$resumeButtonDownload.click(function(){$.ajax({url:"/resume",type:"GET"})}),TweenMax.to(".developer-gradient",10,{x:$windowWidth+600,repeat:-1,yoyo:!0,ease:Linear.easeNone});var showResumeGradient=function(){return TweenLite.to(".resume-gradient",.25,{opacity:1,y:0,ease:Linear.easeNone})},hideResumeGradient=function(){return TweenLite.to(".resume-gradient",.25,{opacity:0,y:0,ease:Linear.easeNone})};$resumeButtonDownload.mouseenter(function(){showResumeGradient()}).mouseleave(function(){hideResumeGradient()}),$(".resume-button-linkedin").mouseenter(function(){showResumeGradient()}).mouseleave(function(){hideResumeGradient()});var positionElements=function(e){$envelopeTopHeight=$("#envelope-top").height(),$resumeElementHeight=$("#resume-element").height();var n=$envelopeTopHeight/2-$resumeDownloadWrapper.height()/2;$resumeDownloadWrapper.css("bottom",n);var r=$envelopeTopHeight-$envelopeBottom.height()/3.5;$envelopeBottom.css("bottom",r),$resumeTriggerHeight=1.25*$envelopeTopHeight,$resumeTrigger.css("height",$resumeTriggerHeight),resumeTriggerOffset=$envelopeTopHeight-$resumeElementHeight+$resumeElementHeight/10,$resumeTrigger.css("margin-bottom",resumeTriggerOffset),"function"==typeof e&&e()};$("a").smoothScroll({offset:-$navHeight}),window.jQuery.fn.autosize=function(){return autosize(this)},$("textarea").autosize();var $itemArray=$portfolio.children(".portfolio-item"),appendItem=function(e,n){var r=$(e).closest(".portfolio-item"),t=Math.round($(window).width()/r.width()),o=Math.ceil(($itemArray.index(r)+1)/t);$($itemArray[t*o-1]).append().after(n)},isPanelOpen=function(){var e=$portfolio.children(".open");return e.length>0?e:!1},openPanel=function(e){e.addClass("open").slideToggle(300)},closePanel=function(e){e.removeClass("open").slideToggle(300)};$(".portfolio-item a").click(function(){var e=$portfolio.children($(this).attr("data-target"));isPanelOpen()===!1?(appendItem(this,e),openPanel(e)):isPanelOpen().attr("id")===e.attr("id")?closePanel(e):isPanelOpen()&&isPanelOpen().attr("id")!==e.attr("id")&&(appendItem(this,e),$(isPanelOpen()).removeClass("open").slideToggle(300,function(){openPanel(e)}))}),$(".x-button").click(function(){closePanel(isPanelOpen())});var navigationController=new ScrollMagic.Controller,navigationScrollMagic=function(e,n,r){new ScrollMagic.Scene({duration:e-$navHeight,offset:-($navHeight+1),reverse:!0,triggerHook:0,triggerElement:n}).setClassToggle(r,"highlight").addTo(navigationController)};new ScrollMagic.Scene({triggerElement:"#about",triggerHook:0,offset:-$navHeight,reverse:!0}).setClassToggle(".nav-trigger","show").addTo(navigationController),navigationScrollMagic($aboutHeight+$developerHeight+$designerHeight-$navHeight,"#about",".about-link"),navigationScrollMagic($("#resume").height(),"#resume-header",".resume-link"),navigationScrollMagic($portfolioHeight,"#portfolio",".portfolio-link"),navigationScrollMagic($contactHeight,"#contact",".contact-link");var headerController=new ScrollMagic.Controller,developerHeaderTweenTimeline=(new TimelineMax).add(TweenMax.fromTo("#about .section-header-container",1,{y:55},{y:-55,ease:Linear.easeNone})),developerHeaderScene=new ScrollMagic.Scene({triggerElement:"#developer",triggerHook:1,duration:$(window).height()-$navHeight}).setTween(developerHeaderTweenTimeline).addTo(headerController),designerHeaderTweenTimeline=(new TimelineMax).add(TweenMax.fromTo("#developer .section-header-container",1,{y:55},{y:-55,ease:Linear.easeNone})),designerHeaderScene=new ScrollMagic.Scene({triggerElement:"#designer",triggerHook:1,duration:$(window).height()-$navHeight}).setTween(designerHeaderTweenTimeline).addTo(headerController),resumeHeaderTweenTimeline=(new TimelineMax).add(TweenMax.fromTo("#resume .section-header-container",1,{y:55},{y:-55,ease:Linear.easeNone})),resumeHeaderScene=new ScrollMagic.Scene({triggerElement:"#resume",triggerHook:1,duration:$(window).height()-$navHeight}).setTween(resumeHeaderTweenTimeline).addTo(headerController),browserDeveloperController=new ScrollMagic.Controller,developerTweenTimeline=(new TimelineMax).add(TweenMax.to("#browser-developer-element",1,{y:1e3,ease:Linear.easeNone}));new ScrollMagic.Scene({triggerElement:"#browser-developer-trigger",duration:1e3,offset:-$navHeight-50,triggerHook:"onLeave"}).setTween(developerTweenTimeline).addTo(browserDeveloperController);var browserDesignerController=new ScrollMagic.Controller,designerTweenTimeline=(new TimelineMax).add(TweenMax.to("#browser-designer-element",1,{y:2e3,ease:Linear.easeNone}));new ScrollMagic.Scene({triggerElement:"#browser-designer-trigger",duration:2e3,offset:-$navHeight-50-$designerElementHeight,triggerHook:"onLeave"}).setTween(designerTweenTimeline).addTo(browserDesignerController);var resumeController=new ScrollMagic.Controller,resumeTweenTimeline=(new TimelineMax).add(TweenLite.to("#resume-element",1,{y:$resumeTriggerHeight,ease:Linear.easeNone}));new ScrollMagic.Scene({triggerElement:".resume-trigger",duration:$resumeTriggerHeight,offset:-$navHeight-50-$resumeElementHeight,triggerHook:"onLeave"}).setTween(resumeTweenTimeline).addTo(resumeController);var responsiveParallax=function(){$(window).width()<=768?(headerController.removeScene([designerHeaderScene,developerHeaderScene,resumeHeaderScene]),designerHeaderScene.progress(.5),developerHeaderScene.progress(.5),resumeHeaderScene.progress(.5)):headerController.addScene([designerHeaderScene,developerHeaderScene,resumeHeaderScene])};$(document).on("ready",function(){positionElements(function(){$("#resume-element").css("top",-$resumeElementHeight),$("#browser-designer-element").css("top",-$designerElementHeight)}),responsiveParallax()}),$(window).on("resize",function(){$(window).width()!==$windowWidth&&(positionElements(),responsiveParallax(),closePanel(isPanelOpen()))});