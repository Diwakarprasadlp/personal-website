"use strict";function debounce(e,t,o){var n;return function(){var r=this,i=arguments,s=function(){n=null,o||e.apply(r,i)},a=o&&!n;clearTimeout(n),n=setTimeout(s,t),a&&e.apply(r,i)}}function toggleMobileMenu(){$(window).width()<768&&($hamburger.toggleClass("active"),$(".js-mobile-links").stop().fadeToggle(300,"linear"))}var $root=$("html, body"),$submitButton=$(".submit-button"),$submitIcon=$(".submit-button i"),$submitText=$(".submit-button span"),$designerElement=$("#browser-designer-element"),$resumeElement=$("#resume-element"),$envelopeBottom=$(".envelope-bottom"),$envelopeTop=$(".envelope-top"),$hamburger=$(".js-navbar-hamburger"),navHeight=$(".nav-trigger").outerHeight(),$resumeTrigger=$(".resume-trigger"),designerScene,resumeScene,setEnvelopeBottomPosition=function(){$envelopeBottom.css("bottom",$envelopeTop.height()-$envelopeBottom.height()/2.6)},getDeveloperDuration=function(){return $("#browser-developer-trigger").outerHeight()+$("#browser-developer-element").outerHeight()},getDesignerDuration=function(){return $("#browser-designer-trigger").outerHeight()+$("#browser-designer-element").outerHeight()},getResumeDuration=function(){return $resumeTrigger.outerHeight()+$resumeElement.outerHeight()/60},getDesignerOffset=function(){return-navHeight-50-$designerElement.height()},getResumeOffset=function(){return-navHeight-50-$resumeElement.outerHeight()},getRecommendationDuration=function(){return $(".recommendation-trigger").outerHeight()-$(".recommendation").outerHeight()},getResumeSectionHeight=function(){return $("#resume").outerHeight()-navHeight},getAboutSectionHeight=function(){return $("#about").outerHeight()+$("#developer").outerHeight()+$("#designer").outerHeight()-navHeight},getContactSectionHeight=function(){return $("#contact").outerHeight(!0)},navigationController=new ScrollMagic.Controller({globalSceneOptions:{offset:-(navHeight+1),pushFollowers:!1,reverse:!0,triggerHook:0}});new ScrollMagic.Scene({triggerElement:"#about"}).setClassToggle(".nav-trigger","nav-trigger-in").addTo(navigationController),new ScrollMagic.Scene({duration:getAboutSectionHeight,triggerElement:"#about"}).setClassToggle(".about-link","highlight").addTo(navigationController),new ScrollMagic.Scene({duration:getResumeSectionHeight,triggerElement:"#resume"}).setClassToggle(".resume-link","highlight").addTo(navigationController),new ScrollMagic.Scene({duration:getContactSectionHeight,triggerElement:"#contact"}).setClassToggle(".contact-link","highlight").addTo(navigationController);var pinController=new ScrollMagic.Controller({globalSceneOptions:{pushFollowers:!1,reverse:!0,triggerHook:"onLeave"}});$("#browser-designer-element").one("load",function(){new ScrollMagic.Scene({duration:getDeveloperDuration,offset:-navHeight-50,triggerElement:"#browser-developer-trigger"}).setPin("#browser-developer-element").addTo(pinController)}).each(function(){(this.complete||$(this).height()>0)&&$(this).load()}),$("#browser-designer-element").one("load",function(){designerScene=new ScrollMagic.Scene({duration:getDesignerDuration,offset:getDesignerOffset(),triggerElement:"#browser-designer-trigger"}).setPin("#browser-designer-element").addTo(pinController)}).each(function(){(this.complete||$(this).height()>0)&&$(this).load()}),$("#resume-element").one("load",function(){resumeScene=new ScrollMagic.Scene({duration:getResumeDuration,offset:getResumeOffset(),triggerElement:".resume-trigger"}).setPin("#resume-element").addTo(pinController)}).each(function(){(this.complete||$(this).height()>0)&&$(this).load()});var bindRecommendationPins=function(){var e=new ScrollMagic.Controller({globalSceneOptions:{duration:getRecommendationDuration,offset:-navHeight-50,pushFollowers:!1,reverse:!0,triggerHook:"onLeave"}});new ScrollMagic.Scene({triggerElement:".recommendation-trigger.left",tweenChanges:!1}).setPin(".recommendation.left").addTo(e),new ScrollMagic.Scene({triggerElement:".recommendation-trigger.right",tweenChanges:!1}).setPin(".recommendation.right").tweenChanges(!0).addTo(e)};$(window).on("resize",debounce(function(){resumeScene.offset(getResumeOffset()),designerScene.offset(getDesignerOffset()),setEnvelopeBottomPosition(),$(".js-mobile-links").one().stop().fadeOut(),$hamburger.removeClass("active")},60));var resetForm=function(){$submitIcon.removeClass().addClass("fa fa-paper-plane"),$submitButton.prop("disabled",!1),$submitText.text(" SEND MESSAGE"),$("textarea").height("initial"),document.getElementById("contact-form").reset()};$("#contact-form").submit(function(e){e.preventDefault(),$submitButton.prop("disabled",!0),$submitIcon.removeClass().addClass("fa fa-spin fa-cog"),$submitText.text(" SENDING");var t=$(this).serializeArray();$.ajax({url:"/",type:"POST",data:t,success:function(){$submitIcon.removeClass().addClass("fa fa-check"),$submitText.text(" SENT!"),setTimeout(resetForm,3e3)},error:function(){$submitIcon.removeClass().addClass("fa fa-times"),$submitText.text(" ERROR SENDING"),setTimeout(resetForm,3e3)}})}),$(document).on("click",".resume-button-download",function(){$.ajax({url:"/resume",type:"GET"})}),$(".about-link, .resume-link, .contact-link, .js-get-started, .js-brand-name").click(function(){var e=$.attr(this,"href");return $root.stop().animate({scrollTop:$(e).offset().top-navHeight},1500),!1}),$root.bind("scroll mousedown DOMMouseScroll mousewheel keyup touchstart",function(e){(e.which>0||"mousedown"===e.type||"mousewheel"===e.type||"touchstart"===e.type)&&$root.stop()}),autosize($("textarea")),$(".js-navbar-hamburger, .js-mobile-links a").click(toggleMobileMenu),$(document).ready(function(){bindRecommendationPins()}),$(window).load(function(){$(".quote").dotdotdot({after:"a.readmore",height:210,watch:"window"}),setEnvelopeBottomPosition()});